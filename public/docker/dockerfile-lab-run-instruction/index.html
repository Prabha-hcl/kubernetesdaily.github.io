<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Demestifying Container and Orchestration Ecosystem">
<meta name="author" content="CloudNativeFolks">

<title>Dockerfile Lab - RUN instruction ¬∑ kubedaily</title>

<link rel="canonical" href="https://kubedaily.com/docker/dockerfile-lab-run-instruction/">









<link rel="stylesheet" href="/scss/base.css" integrity="">



<link rel="stylesheet" href="/scss/theme/default.css" integrity="">



  <link rel="preconnect" href="https://-dsn.algolia.net" crossorigin />
  
  <link rel="stylesheet" href="/scss/component/docsearch.css" integrity=""/>

<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/img/icon/favicon.ico">
<link rel="icon" href="/img/icon/icon-16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/img/icon/icon-32.png" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" href="/img/icon/icon-180.png" sizes="180x180">
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '');
</script>
    <script 
     src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js">
  </script>
  <script 
      src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownKatex.js">
  </script>
  <script 
      src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownHighlight.js">
  </script>
  <script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
  </head>
  <body>
    <header id="site-header">
  
  <div id="site-header-brand">
    <a href="/">kubedaily</a>
  </div>

  
  <div id="site-header-controls">
    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="theme selector">
        <i class="icon icon-brightness"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="menuitem"><button class="color-scheme" data-value="light"><i class="icon icon-light-mode"></i> Light</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="dark"><i class="icon icon-dark-mode"></i> Dark &nbsp;</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="night"><i class="icon icon-night-mode"></i> Night</button></li>
      </ul>
    </div>

    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="language selector">
        <i class="icon icon-translate"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        
          <li role="menuitem"><a href="#">English</a></li>
        
      </ul>
    </div>
  </div>

  
  <div id="site-header-menu">
    <nav>
      <ul>
        
        
        
          
          <li><a href="/" ><i class='icon icon-home'></i>Home</a></li>
        
          
          <li><a href="/docker/"  class="active"><i class='icon icons8-docker '></i>Docker</a></li>
        
          
          <li><a href="/containersecurity/" ><i class='icon icon-book'></i>ContainerSecurity</a></li>
        
          
          <li><a href="/k8s/" ><i class='icon icons8-kubernetes'></i>Kubernetes</a></li>
        
          
          <li><a href="/blog/" ><i class='icon icon-book'></i>blog</a></li>
        
          
          <li><a href="https://kubedaily.com/cloudnativetools/" ><i class='icon icon-book'></i>cloudnativetools</a></li>
        
      </ul>
    </nav>
  </div>

  

</header>
    
<div id="site-main-content-wrapper">
  
  
    <aside id="sidebar">
  <span class="btn-close"><i class="icon icon-close"></i></span>

  <div class="sticky"><strong class="sidebar-section">Docker</strong>
          
          <a class="sidebar-link " href="/docker/overview/">
            
              Overview
            
          </a>

        <strong class="sidebar-section">üê≥ Learn Docker</strong>
          
          <a class="sidebar-link " href="/docker/pre-requisit-for-this-lab/">
            
              Pre-requisit for this lab
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-hello-world-example/">
            
              Docker Hello World Example
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-image-filtering/">
            
              Docker Image Filtering
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/images-and-container-as-tar-file/">
            
              Images and Container As Tar file
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/push-first-nginx-web-app-to-dockerhub/">
            
              Push first Nginx Web app To DockerHub
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/build-a-base-image-from-scratch/">
            
              Build a Base Image from Scratch
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-add-instruction/">
            
              Dockerfile Lab - ADD instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-copy-instruction/">
            
              Dockerfile Lab - COPY instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-cmd-instruction/">
            
              Dockerfile Lab - CMD instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-entrypoint-instruction/">
            
              Dockerfile Lab - Entrypoint instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-workdir-instruction/">
            
              Dockerfile Lab - WORKDIR instruction
            
          </a>

        
          
          <a class="sidebar-link current" href="/docker/dockerfile-lab-run-instruction/">
            
              Dockerfile Lab - RUN instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-arg-instruction/">
            
              Dockerfile Lab - ARG instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-volume-instruction/">
            
              Dockerfile Lab - Volume instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-user-instruction/">
            
              Dockerfile Lab - USER instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-healthcheck-instruction/">
            
              Dockerfile Lab - HEALTHCHECK instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-env-instruction/">
            
              Dockerfile Lab - ENV instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/dockerfile-lab-onbuild-instruction/">
            
              Dockerfile Lab - ONBUILD instruction
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/running-multiple-docker-containers-from-cli/">
            
              Running multiple docker containers from CLI
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/write-first-docker-compose-file/">
            
              Write First Docker Compose file
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-with-volume-mount/">
            
              Docker Compose with Volume Mount
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/build-own-dockerfile-and-docker-compose-with-custom-configuration/">
            
              Build Own Dockerfile and Docker Compose with Custom configuration
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/simple-php-apache-and-database-using-docker-compose/">
            
              Simple php apache and database using docker compose
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/host-volume-mount-data-persistentence/">
            
              Host Volume Mount - Data persistentence
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/named-volume-mount-data-persistentence/">
            
              Named Volume Mount - Data persistentence
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-build-command/">
            
              Docker Compose CLI - Build Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-config-command/">
            
              Docker Compose CLI - Config Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-cp-command/">
            
              Docker Compose CLI - CP Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-create-command/">
            
              Docker Compose CLI - Create Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-down-command/">
            
              Docker Compose CLI - Down Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-events-command/">
            
              Docker Compose CLI - Events Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-exec-command/">
            
              Docker Compose CLI - Exec Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-images-command/">
            
              Docker Compose CLI - Images Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-kill-command/">
            
              Docker Compose CLI - Kill Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-logs-command/">
            
              Docker Compose CLI - logs Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-ls-command/">
            
              Docker Compose CLI - ls Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-pause-unpause-command/">
            
              Docker Compose CLI - Pause unpause Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-port-command/">
            
              Docker Compose CLI - Port Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-ps-command/">
            
              Docker Compose CLI - ps Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-pull-command/">
            
              Docker Compose CLI - pull Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-push-command/">
            
              Docker Compose CLI - push Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-rm-command/">
            
              Docker Compose CLI - rm Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-compose-cli-run-command/">
            
              Docker Compose CLI - run Command
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/setup-local-network/">
            
              Setup local network
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/setup-remote-network/">
            
              Setup Remote network
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/newtorking-in-docker-compose/">
            
              Newtorking in Docker Compose
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/newtorking-in-docker-compose-with-ngnix/">
            
              Newtorking in Docker Compose with ngnix
            
          </a>

        
          
          <a class="sidebar-link " href="/docker/docker-wordpress-example/">
            
              Docker Wordpress Example
            
          </a>

        
          
          <a class="sidebar-link " href="/docker//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/docker//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/docker//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/docker//">
            
              
            
          </a>

        
  </div>
</aside>
  
  <main>
    <article id="article">
      <nav id="article-nav">
  <button id="article-nav-menu-btn"><i class="icon icon-menu"></i> On this section</button>
  <button id="article-nav-toc-btn"><i class="icon icon-toc"></i> On this page</button>
</nav>
      <header id="article-header">
  <h1>Dockerfile Lab - RUN instruction</h1>
</header>
      <div id="article-content">
        
        
        <p>The RUN command is the central executing directive for Dockerfiles. It takes a command as its argument and runs it to form the image. Unlike CMD, it actually is used to build the image (forming another layer on top of the previous one which is committed).</p>
<h4 id="create-dockerfile-with-following-content">create dockerfile with following content</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="cl"><span class="k">FROM</span><span class="s"> ubuntu</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> id<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> useradd --create-home -m -s /bin/bash dev<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># Add a fun prompt for dev user of my-app</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># whale: &#34;\xF0\x9F\x90\xB3&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># alien:&#34;\xF0\x9F\x91\xBD&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># fish:&#34;\xF0\x9F\x90\xA0&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># elephant:&#34;\xF0\x9F\x91\xBD&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># moneybag:&#34;\xF0\x9F\x92\xB0&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="nb">echo</span> <span class="s1">&#39;PS1=&#34;\[$(tput bold)$(tput setaf 4)\]my-app $(echo -e &#34;\xF0\x9F\x90\xB3&#34;) \[$(tput sgr0)\] [\\u@\\h]:\\W \\$ &#34;&#39;</span> &gt;&gt; /home/dev/.bashrc <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    <span class="nb">echo</span> <span class="s1">&#39;alias ls=&#34;ls --color=auto&#34;&#39;</span> &gt;&gt; /home/dev/.bashrc<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> mkdir /myvol<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="nb">echo</span> <span class="s2">&#34;hello DQS Guide&#34;</span> &gt; /myvol/greeting<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="o">[</span><span class="s2">&#34;chmod&#34;</span>, <span class="s2">&#34;664&#34;</span>, <span class="s2">&#34;/myvol/greeting&#34;</span><span class="o">]</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="o">[</span><span class="s2">&#34;chown&#34;</span>, <span class="s2">&#34;dev:dev&#34;</span>, <span class="s2">&#34;/myvol/greeting&#34;</span><span class="o">]</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">VOLUME</span><span class="s"> /myvol</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">USER</span><span class="s"> dev</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> id<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">CMD</span> <span class="p">[</span><span class="s2">&#34;/bin/bash&#34;</span><span class="p">]</span><span class="err">
</span></span></span></code></pre></div><h3 id="build-docker-container">build docker container</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"> ‚ûú  docker build -t  sangam14/run-dockerfile -f dockerfile.run .
</span></span></code></pre></div><h4 id="run-docer-container">run docer container</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">‚ûú  Dockerfile git:<span class="o">(</span>main<span class="o">)</span> ‚úó docker run -it  sangam14/run-dockerfile 
</span></span></code></pre></div><h4 id="added-user-as-my-app-with-whale-emoji">added user as my-app with whale emoji</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">my-app üê≥  <span class="o">[</span>dev@0270ab5e6f0c<span class="o">]</span>:/ $ ls
</span></span><span class="line"><span class="cl">bin  boot  dev  etc  home  lib  media  mnt  myvol  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
</span></span><span class="line"><span class="cl">my-app üê≥  <span class="o">[</span>dev@0270ab5e6f0c<span class="o">]</span>:/ $ cat myvol/greeting 
</span></span><span class="line"><span class="cl">hello DQS Guide
</span></span></code></pre></div>
      </div>
      








  
  
  
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

      
    
        

        
          
        

        
        


<footer id="article-footer">
  <time id="article-last-updated" datetime="2023-11-26"><i class="icon icon-calendar"></i>&nbsp;Last updated: 2023-11-26</time>

  
    <a id="article-prev-link" href="/docker/dockerfile-lab-workdir-instruction/"><i class="icon icon-prev icon-colored"></i> Prev</a>
  

  
    <a id="article-next-link"  href="/docker/dockerfile-lab-arg-instruction/">Next <i class="icon icon-next icon-colored"></i></a>
  
</footer>
    </article>
    <aside id="toc">
  <span class="btn-close"><i class="icon icon-close"></i></span>
  <div class="sticky">
    <strong><i class="icon icon-toc"></i> On this page</strong>
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
        <li><a href="#build-docker-container">build docker container</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</aside>
  </main>
</div>

    <footer id="site-footer">
  
  <div id="site-footer-copyright">
    <a href="https://discord.gg/rEvr7vq" target="_blank">
      <i class="icon icon-copyright"></i> 2023 CloudNativeFolks
    </a>
  </div>

  
  <div id="site-footer-social">

    

    
    <a href="https://twitter.com/i/communities/1499311438745468931" target="_blank" aria-label="twitter url">
      <i class="icon icon-twitter icon-colored"></i>
    </a>
    

    
    <a href="https://github.com/sangam14" target="_blank" aria-label="github url">
      <i class="icon icon-github icon-colored"></i>
    </a>
    

    
    <a href="https://www.youtube.com/@CloudNativeFolks" target="_blank" aria-label="youtube url">
      <i class="icon icon-youtube icon-colored"></i>
    </a>
    

  </div>

  
  <center> <a href="https://visitorbadge.io/status?path=https%3A%2F%2Fkubedaily.com"><img src="https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fkubedaily.com&label=KubeDaily&labelColor=%232ccce4&countColor=%2337d67a" /></a> </center> 

  
  <div id="site-footer-love">
    Made with <i class="icon icon-love icon-colored"></i> &nbsp;from&nbsp;<a href="https://blog.cloudnativefolks.org" target="_blank">@CloudNativeFollks</a>
  </div>
</footer>
    






<script type="text/javascript" src="/js/base.min.js"></script>



  
  <script src="/js/component/docsearch.min.js"></script>
  <script type="application/javascript">
      docsearch({
          container: '#site-header-search',
          appId: '',
          indexName: '',
          apiKey: '',
      });
  </script>


<script type="application/javascript">
    if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js?2023-12-03')
            .catch(function(err) {console.error('ServiceWorker registration failed: ', err);});
    }
</script>
  </body>
</html>