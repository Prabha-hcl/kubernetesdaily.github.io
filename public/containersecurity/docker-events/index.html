<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Demestifying Container and Orchestration Ecosystem">
<meta name="author" content="CloudNativeFolks">

<title>Docker events Â· kubedaily</title>

<link rel="canonical" href="https://kubedaily.com/containersecurity/docker-events/">









<link rel="stylesheet" href="/scss/base.css" integrity="">



<link rel="stylesheet" href="/scss/theme/default.css" integrity="">



  <link rel="preconnect" href="https://-dsn.algolia.net" crossorigin />
  
  <link rel="stylesheet" href="/scss/component/docsearch.css" integrity=""/>

<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/img/icon/favicon.ico">
<link rel="icon" href="/img/icon/icon-16.png" sizes="16x16" type="image/png">
<link rel="icon" href="/img/icon/icon-32.png" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" href="/img/icon/icon-180.png" sizes="180x180">
<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', '');
</script>
    <script 
     src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/quizdown.js">
  </script>
  <script 
      src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownKatex.js">
  </script>
  <script 
      src="https://cdn.jsdelivr.net/npm/quizdown@latest/public/build/extensions/quizdownHighlight.js">
  </script>
  <script>quizdown.register(quizdownHighlight).register(quizdownKatex).init()</script> 
  </head>
  <body>
    <header id="site-header">
  
  <div id="site-header-brand">
    <a href="/">kubedaily</a>
  </div>

  
  <div id="site-header-controls">
    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="theme selector">
        <i class="icon icon-brightness"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="menuitem"><button class="color-scheme" data-value="light"><i class="icon icon-light-mode"></i> Light</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="dark"><i class="icon icon-dark-mode"></i> Dark &nbsp;</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="night"><i class="icon icon-night-mode"></i> Night</button></li>
      </ul>
    </div>

    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="language selector">
        <i class="icon icon-translate"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        
          <li role="menuitem"><a href="#">English</a></li>
        
      </ul>
    </div>
  </div>

  
  <div id="site-header-menu">
    <nav>
      <ul>
        
        
        
          
          <li><a href="/" ><i class='icon icon-home'></i>Home</a></li>
        
          
          <li><a href="/docker/" ><i class='icon icons8-docker '></i>Docker</a></li>
        
          
          <li><a href="/containersecurity/"  class="active"><i class='icon icon-book'></i>ContainerSecurity</a></li>
        
          
          <li><a href="/k8s/" ><i class='icon icons8-kubernetes'></i>Kubernetes</a></li>
        
          
          <li><a href="/blog/" ><i class='icon icon-book'></i>blog</a></li>
        
          
          <li><a href="https://kubedaily.com/cloudnativetools/" ><i class='icon icon-book'></i>cloudnativetools</a></li>
        
      </ul>
    </nav>
  </div>

  

</header>
    
<div id="site-main-content-wrapper">
  
  
    <aside id="sidebar">
  <span class="btn-close"><i class="icon icon-close"></i></span>

  <div class="sticky"><strong class="sidebar-section">Container Security</strong>
          
          <a class="sidebar-link " href="/containersecurity/overview/">
            
              Overview
            
          </a>

        <strong class="sidebar-section">ðŸ”’ContainerSecurity</strong>
          
          <a class="sidebar-link " href="/containersecurity/what-is-container/">
            
              What is container?
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/container-vs-virtualization/">
            
              Container vs Virtualization
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/namespaces/">
            
              Namespaces
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/cgroups/">
            
              Cgroups
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/capabilities/">
            
              Capabilities
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-architecture-and-its-components/">
            
              Docker architecture and its components
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/interacting-with-container-ecosystem/">
            
              Interacting with container ecosystem
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/attack-surface-of-the-container-ecosystem/">
            
              Attack surface of the container ecosystem
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-volumes/">
            
              Docker volumes
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-networking/">
            
              Docker Networking
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/auditing-docker-security/">
            
              Auditing Docker Security
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/container-image-security/">
            
              Container Image Security
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/dockerfile-security-best-practices/">
            
              DockerFile Security Best Practices
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/secretscanner-finding-secrets-and-passwords-in-container-images-and-file-systems/">
            
              SecretScanner - Finding secrets and passwords in container images and file systems
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/yarahunter-malware-scanner-for-container-images/">
            
              YaraHunter - Malware Scanner for Container Images
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/security-linting-of-dockerfiles/">
            
              Security Linting of Dockerfiles
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/static-analysis-of-container-images-library-for-container/">
            
              Static Analysis of container images library for container
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-host-security-configurations/">
            
              Docker host security configurations
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-daemon-security-configurations/">
            
              Docker Daemon security configurations
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/content-trust-and-integrity-checks/">
            
              Content Trust and Integrity checks
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/docker-registry-security-configurations/">
            
              Docker Registry security configurations
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/dockerscan/">
            
              DockerScan
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity/dive/">
            
              Dive
            
          </a>

        
          
          <a class="sidebar-link current" href="/containersecurity/docker-events/">
            
              Docker events
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity//">
            
              
            
          </a>

        
          
          <a class="sidebar-link " href="/containersecurity//">
            
              
            
          </a>

        
  </div>
</aside>
  
  <main>
    <article id="article">
      <nav id="article-nav">
  <button id="article-nav-menu-btn"><i class="icon icon-menu"></i> On this section</button>
  <button id="article-nav-toc-btn"><i class="icon icon-toc"></i> On this page</button>
</nav>
      <header id="article-header">
  <h1>Docker events</h1>
</header>
      <div id="article-content">
        
        
        <h1 id="docker-events">Docker events</h1>
<p>Docker events describe the activities taken by your Docker daemon. Most interactions with objects such as containers, images, volumes, and networks record an event, creating a log that you can use to inspect past changes.</p>
<p>There are many different kinds of event that identify specific changes in your environment:</p>
<ul>
<li>Creating and removing containers</li>
<li>Container health check statuses</li>
<li>Commands executed inside containers with docker exec</li>
<li>Pulling and pushing images</li>
<li>Creating, destroying, mounting, and unmounting volumes</li>
<li>Enabling and disabling Docker daemon plugins</li>
</ul>
<pre tabindex="0"><code>$ docker run --rm hello-world
</code></pre><p>Several events should now appear in the terminal window thatâ€™s running the docker events command:</p>
<pre tabindex="0"><code>$ docker events
2022-05-31T15:20:00.267970018+01:00 image pull hello-world:latest (name=hello-world)
2022-05-31T15:20:00.347054862+01:00 container create 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse)
2022-05-31T15:20:00.347805277+01:00 container attach 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse)
2022-05-31T15:20:00.621070053+01:00 container start 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378 (image=hello-world, name=nifty_morse)
</code></pre><p>Each event displays on its own line. The event timestamp is displayed first, followed by the type of object affected (such as image or container) and then the action that was taken (like create, attach, and start). The remainder of the message contains useful metadata about the object. The example above reveals that the hello-world:latest image was pulled and a container created from it.</p>
<p>Formatting Output</p>
<p>The raw event list is often unwieldy. You can reformat the output using the &ndash;format flag which accepts a Go template string:</p>
<pre tabindex="0"><code>$ docker events --format &#39;{{ .Time }} {{ .Action }} {{ .Type}} {{ .ID }}&#39;
</code></pre><p>Running this example will produce output that looks like this:</p>
<pre tabindex="0"><code>1654006800 pull image hello-world:latest
1654006800 create container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378
1654006800 attach container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378
1654006800 start container 4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378
</code></pre><p>You can get events represented as JSON objects by using {{ json . }} as your template string:</p>
<pre tabindex="0"><code>$ docker events --format &#39;{{ json . }}&#39; | jq
{
  &#34;status&#34;: &#34;create&#34;,
  &#34;id&#34;: &#34;4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378&#34;,
  &#34;from&#34;: &#34;hello-world&#34;,
  &#34;Type&#34;: &#34;container&#34;,
  &#34;Action&#34;: &#34;create&#34;,
  &#34;Actor&#34;: {
    &#34;ID&#34;: &#34;4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378&#34;,
    &#34;Attributes&#34;: {
      &#34;image&#34;: &#34;hello-world&#34;,
      &#34;name&#34;: &#34;nifty_morse&#34;
    }
  },
  &#34;scope&#34;: &#34;local&#34;,
  &#34;time&#34;: 1654006800,
  &#34;timeNano&#34;: 1654006800347054800
}
</code></pre><h2 id="filtering-events">Filtering Events</h2>
<pre tabindex="0"><code>
docker events --filter type=container //Get all events that relate to containers.
docker events --filter event=create // Get container creation events.
docker events --filter container=demo-container â€“// Get all the events saved for the container called demo-container (you can reference the containerâ€™s ID or name).
</code></pre><p>Besides container, you can filter by all supported object type names such as image, network, and volume.</p>
<p>Multiple filters are supported when you repeat the &ndash;filter flag. Distinct filters are interpreted as logical AND conditions; multiple uses of the same filter become OR clauses. Hereâ€™s an example which surfaces the create event for both the app-container and api-container containers:</p>
<pre tabindex="0"><code>$ docker events \
    --filter container=app-container
    --filter container=api-container
    --filter event=create
</code></pre><h2 id="accessing-historical-events">Accessing Historical Events</h2>
<p>docker events defaults to only showing events stored since the commandâ€™s been running. You can include historical events by adding the &ndash;since flag. This accepts a human-readable time expression or an absolute timestamp:</p>
<pre tabindex="0"><code>
$ docker events --since 1h
$ docker events --since &#39;2022-06-01T16:00:00&#39;
</code></pre><p>Events recorded after the given time will immediately be shown in your terminal. New events will continue to show up in real-time as theyâ€™re recorded.</p>
<p>You can exclude events after a particular time with the &ndash;until flag. It works similarly to &ndash;since. Using &ndash;until will disable real-time streaming of new events because theyâ€™d fall outside the requested timeframe.</p>
<h2 id="streaming-docker-events-from-the-daemon-rest-api">Streaming Docker Events From the Daemon REST API</h2>
<p>Another way to access stored events is through the Docker daemon REST API. You can use the /events endpoint to stream events in real-time after youâ€™ve enabled the API on your Docker host. Events will be returned in JSON format:</p>
<pre tabindex="0"><code>$ curl http://127.0.0.1:2375/v1.41/events
{
  &#34;Type&#34;: &#34;container&#34;,
  &#34;Action&#34;: &#34;create&#34;,
  &#34;Actor&#34;: {
    &#34;ID&#34;: &#34;4a6c8d34a183363db5dbfdcc3cab4c82c4a341d719df56ec2e7f879ee8f02378&#34;,
    &#34;Attributes&#34;: {
      &#34;image&#34;: &#34;hello-world&#34;,
      &#34;name&#34;: &#34;nifty_morse&#34;
    }
  },
  &#34;scope&#34;: &#34;local&#34;,
  &#34;time&#34;: 1654006800,
  &#34;timeNano&#34;: 1654006800347054800
}
</code></pre><p>The API endpoint supports filter, since, and until parameters that have the same behaviors as their CLI counterparts. Hereâ€™s how to retrieve all container creation events recorded in the past hour:</p>
<pre tabindex="0"><code>
$ curl http://127.0.0.1:2375/v1.41/events?since=1h&amp;filters={&#39;type&#39;:&#39;container&#39;,&#39;action&#39;:&#39;create&#39;}
</code></pre><h2 id="sending-events-to-an-external-service">Sending Events to an External Service</h2>
<p>Docker lacks a built-in way to send events to an external service. This could be useful if you want all your container creations to be logged in an existing monitoring or auditing platform.</p>
<p>You can set up your own solution by creating a system service that continually runs docker events. It should send each new line of output to your external system.</p>
<p>First write a Bash script that implements the functionality you need:</p>
<pre tabindex="0"><code>#!/bin/bash
docker events --format &#39;{{ .Time }} {{ .Action }} {{ .Type }} {{ .ID }}&#39; | while read event
do
    curl \
        -X POST \
        -H &#34;Content-Type: application/json&#34; \
        -d &#39;{&#34;event&#34;: &#34;$event&#34;}&#39; \
        https://example.com/events
done
</code></pre><p>Now create a new systemd service unit at <code>/etc/systemd/system/docker-events.service</code>:</p>
<pre tabindex="0"><code>[Unit]
Description=Custom Docker Event Monitoring Service

[Service]
Type=forking
ExecStart=/usr/local/bin/docker-events.sh

[Install]
WantedBy=multi-user.target
</code></pre><p>Finally reload systemd to load your service, then start and enable the unit:</p>
<pre tabindex="0"><code>$ sudo systemctl daemon-reload
$ sudo systemctl start docker-events
$ sudo systemctl enable docker-events
</code></pre><h2 id="docker-events-commands-example">Docker events commands example</h2>
<p>Listening for Docker events</p>
<pre tabindex="0"><code>$ docker events
</code></pre><p>Listening for events since a given date</p>
<pre tabindex="0"><code>$ docker events --since &#39;2015-01-28&#39;
$ docker events --since &#39;3m&#39;
</code></pre><p>Listening for Docker events based on filter</p>
<pre tabindex="0"><code>$ docker events --filter &#39;type=container&#39; --format &#39;Type={{.Type}}  Status={{.Status}}  ID={{.ID}}&#39;
$ docker events --filter &#39;event=stop&#39;
$ docker events --filter &#39;image=ubuntu-1:14.04&#39;
$ docker events --filter &#39;container=7805c1d35632&#39;
$ docker events --filter &#39;container=7805c1d35632&#39; --filter &#39;container=4386fb97867d&#39;
$ docker events --filter &#39;container=7805c1d35632&#39; --filter &#39;event=stop&#39;
$ docker events --filter &#39;type=volume&#39;
$ docker events --filter &#39;type=network&#39;
$ docker events --filter &#39;type=plugin&#39; (experimental)
</code></pre><p>Listening for Docker events based on format</p>
<pre tabindex="0"><code>$ docker events --format &#39;{{json .}}&#39;
</code></pre>
      </div>
      








  
  
  
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

      
    
        

        
          
        

        
        


<footer id="article-footer">
  <time id="article-last-updated" datetime="2023-12-04"><i class="icon icon-calendar"></i>&nbsp;Last updated: 2023-12-04</time>

  
    <a id="article-prev-link" href="/containersecurity/dive/"><i class="icon icon-prev icon-colored"></i> Prev</a>
  

  
    <a id="article-next-link"  href="/containersecurity//">Next <i class="icon icon-next icon-colored"></i></a>
  
</footer>
    </article>
    <aside id="toc">
  <span class="btn-close"><i class="icon icon-close"></i></span>
  <div class="sticky">
    <strong><i class="icon icon-toc"></i> On this page</strong>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#filtering-events">Filtering Events</a></li>
    <li><a href="#accessing-historical-events">Accessing Historical Events</a></li>
    <li><a href="#streaming-docker-events-from-the-daemon-rest-api">Streaming Docker Events From the Daemon REST API</a></li>
    <li><a href="#sending-events-to-an-external-service">Sending Events to an External Service</a></li>
    <li><a href="#docker-events-commands-example">Docker events commands example</a></li>
  </ul>
</nav>
  </div>
</aside>
  </main>
</div>

    <footer id="site-footer">
  
  <div id="site-footer-copyright">
    <a href="https://discord.gg/rEvr7vq" target="_blank">
      <i class="icon icon-copyright"></i> 2023 CloudNativeFolks
    </a>
  </div>

  
  <div id="site-footer-social">

    

    
    <a href="https://twitter.com/i/communities/1499311438745468931" target="_blank" aria-label="twitter url">
      <i class="icon icon-twitter icon-colored"></i>
    </a>
    

    
    <a href="https://github.com/sangam14" target="_blank" aria-label="github url">
      <i class="icon icon-github icon-colored"></i>
    </a>
    

    
    <a href="https://www.youtube.com/@CloudNativeFolks" target="_blank" aria-label="youtube url">
      <i class="icon icon-youtube icon-colored"></i>
    </a>
    

  </div>

  
  <center> <a href="https://visitorbadge.io/status?path=https%3A%2F%2Fkubedaily.com"><img src="https://api.visitorbadge.io/api/visitors?path=https%3A%2F%2Fkubedaily.com&label=KubeDaily&labelColor=%232ccce4&countColor=%2337d67a" /></a> </center> 

  
  <div id="site-footer-love">
    Made with <i class="icon icon-love icon-colored"></i> &nbsp;from&nbsp;<a href="https://blog.cloudnativefolks.org" target="_blank">@CloudNativeFollks</a>
  </div>
</footer>
    






<script type="text/javascript" src="/js/base.min.js"></script>



  
  <script src="/js/component/docsearch.min.js"></script>
  <script type="application/javascript">
      docsearch({
          container: '#site-header-search',
          appId: '',
          indexName: '',
          apiKey: '',
      });
  </script>


<script type="application/javascript">
    if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js?2023-12-06')
            .catch(function(err) {console.error('ServiceWorker registration failed: ', err);});
    }
</script>
  </body>
</html>